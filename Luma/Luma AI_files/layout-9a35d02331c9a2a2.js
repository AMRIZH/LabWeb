(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{23432:function(e,t,n){Promise.resolve().then(n.bind(n,96694)),Promise.resolve().then(n.t.bind(n,88225,23))},96694:function(e,t,n){"use strict";n.r(t);var r=n(5833),a=n(85738),o=n.n(a),i=n(53961),c=n(87116),s=n(20117),l=n(76961),u=n(838),d=n(56531),p=n(16034);let w="G-67JX7C10DX",h=async e=>{e&&await window.clarity("identify",e)},f=async e=>{window.gtag("config","G-67JX7C10DX",{page_path:window.location.pathname,page_location:window.location.href,user_id:e})};t.default=()=>{let{loggedIn:e,user:t}=(0,c.RK)(l.Mz),[n,a]=(0,i.useState)(!1),g=async e=>{h(e),f(e)},v=async()=>{g(t.uuid)},y=async()=>{try{var e;let t=(0,d.ej)("user");if(t&&(l.Mz.user=JSON.parse(t)),!await (0,p.hP)())return;let n=await (0,u.PR)();l.Mz.user=n;let r=new Date(Date.now());r.setDate(r.getDate()+7),(0,d.d8)("user",JSON.stringify(n),{expires:r,secure:!0,path:"/"}),g(null!==(e=null==n?void 0:n.uuid)&&void 0!==e?e:void 0)}catch(e){}};return(0,i.useEffect)(()=>{n||(e?v():y(),a(!0))},[e,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{}),(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{id:"ga-lib",strategy:"lazyOnload",src:"https://www.googletagmanager.com/gtag/js?id=".concat(w)}),(0,r.jsx)(o(),{id:"ga-init",strategy:"lazyOnload",children:"\n                  window.dataLayer = window.dataLayer || [];\n                  function gtag(){dataLayer.push(arguments);}\n                  gtag('js', new Date());\n\n                  gtag('config', '".concat("G-67JX7C10DX","');\n            ")})]}),(0,r.jsx)(o(),{id:"microsoft-clarity",dangerouslySetInnerHTML:{__html:'\n(function(c,l,a,r,i,t,y){\n    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;\n    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n})(window, document, "clarity", "script", "hg61ecjlky");\n'}})]})]})}},838:function(e,t,n){"use strict";n.d(t,{CI:function(){return y},F7:function(){return h},LJ:function(){return d},PR:function(){return u},V3:function(){return E},V5:function(){return m},Vp:function(){return g},WA:function(){return S},XH:function(){return p},bE:function(){return j},hh:function(){return v},mE:function(){return f},me:function(){return w},oX:function(){return D},pQ:function(){return k},sk:function(){return b}});var r,a,o=n(76961),i=n(16034),c=n(38386),s=n(89035);let l="https://webapp.engineeringlumalabs.com",u=async()=>{try{let e=await (0,i.hP)(),t=await fetch("".concat(l,"/api/v3/users/info"),{headers:{Authorization:e}}),n=await t.json(),r=n.reason;if(r)throw r;return n.response}catch(e){throw console.error("Error getting user"),console.error(e),"Error getting user"}},d=async e=>{let{text:t,linkedCreations:n,seed:r,negativePrompt:a,previousSeeds:o,abortController:u}=e;try{let e=null==u?void 0:u.signal,c=await (0,i.hP)(),d=s.AI.geniePreview,p={input:{text:t,type:d,jobParams:r||a||o?{seed:r,negativePrompt:a,previousSeeds:o}:void 0},linkedCreations:n,client:s.uD.web},w=new Headers;w.append("Content-Type","application/json"),w.append("Authorization",c);let h=await fetch("".concat(l,"/api/v3/creations"),{method:"POST",headers:w,body:JSON.stringify(p),signal:e}),f=await h.json(),g=f.response,v=f.reason;if(v)throw v;return g}catch(e){throw console.error("Error creating text to 3d creations"),console.error(e),(0,c.wY)(e)}},p=async e=>{let{uuid:t,text:n,seed:r,negativePrompt:a}=e;try{let e;if(r&&(e={seed:r}),a){var o;e={...null!==(o=null==e?void 0:e.seed)&&void 0!==o?o:{},negativePrompt:a}}let c={input:{uuid:t,text:n,type:s.AI.genieRefine,jobParams:e},client:s.uD.web},u=await (0,i.hP)(),d=new Headers;d.append("Content-Type","application/json"),d.append("Authorization",u);let p=await fetch("".concat(l,"/api/v3/creations"),{method:"POST",headers:d,body:JSON.stringify(c)}),w=await p.json(),h=w.response,f=w.reason;if(f)throw f;return h}catch(e){throw console.error("Error creating preview to refine 3d creation"),console.error(e),(0,c.wY)(e)}},w=async e=>{let{uuid:t,abortController:n}=e;try{let e=null==n?void 0:n.signal,r=await fetch("".concat(l,"/api/v3/creations/uuid/").concat(t),{signal:e});return(await r.json()).response}catch(e){throw console.error("Error getting creation"),console.error(e),(0,c.wY)(e)}},h=async e=>{try{var t;let{skip:n,take:r,uuid:a,order:c,type:s,sort:u,status:d}=null!=e?e:{},p=null==e?void 0:null===(t=e.abortController)||void 0===t?void 0:t.signal;if(!o.Mz.loggedIn)throw"Not logged in";let w=await (0,i.hP)(),h=new URL("".concat(l,"/api/v3/my/creations")),f=new URLSearchParams;n&&f.append("skip",n.toString()),r&&f.append("take",r.toString()),a&&f.append("uuid",a),c&&f.append("sort_order",c),s&&f.append("type",s),u&&f.append("sort_by",u),d&&f.append("status",d),h.search=f.toString();let g=await fetch(h.toString(),{headers:{Authorization:w},signal:p});return await g.json()}catch(e){throw console.error("Error getting creations"),console.error(e),(0,c.wY)(e)}},f=()=>Math.round(1073741823*Math.random()),g=async e=>{let{uuid:t,convert:n}=e;try{var r,a,o,i=new Headers;i.append("Content-Type","application/json");let e=await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/creations/convert"),{method:"POST",body:JSON.stringify({input:{uuid:t,type:"blender_convert",convert:n},linkedCreations:[]}),headers:i,redirect:"follow"}),c=await e.json();if(null==c?void 0:c.reason)throw c.reason;return null==c?void 0:null===(o=c.response)||void 0===o?void 0:null===(a=o.uploaded_files)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.file_url}catch(e){throw"Error converting 3d model"}},v=async e=>{try{var t;let{skip:n,take:r}=null!=e?e:{},a=null==e?void 0:null===(t=e.abortController)||void 0===t?void 0:t.signal,o=new URL("".concat(l,"/api/v3/creations/featured")),i=new URLSearchParams;n&&i.append("skip",n.toString()),i.append("take","100"),i.append("type",s.AI.genieRefine),o.search=i.toString();let c=await fetch(o.toString(),{signal:a});return await c.json()}catch(e){throw console.error("Error getting featured creations"),console.error(e),(0,c.wY)(e)}},y=async(e,t)=>{try{if(o.Mz.loggedIn){let n=await (0,i.hP)();await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/creations/action?uuid=").concat(e,"&action=").concat(t?s.lS.like:s.lS.dislike),{method:"POST",headers:{Authorization:n}})}else await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/creations/like?uuid=").concat(e,"&add=").concat(t?"true":"false"),{method:"POST"});localStorage.setItem("LUMA_GENIE_LIKE_DISLIKE_ALREADY_ADDED_".concat(e),"true")}catch(e){console.log("Error ".concat(t?"liking":"disliking"," creation: ").concat(e))}},m=e=>{var t;return"true"===(null!==(t=localStorage.getItem("LUMA_GENIE_LIKE_DISLIKE_ALREADY_ADDED_".concat(e)))&&void 0!==t?t:"false")},b=async e=>{try{await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/creations/view?uuid=").concat(e),{method:"POST"})}catch(e){console.log("Error adding view for creation: ".concat(e))}},S=async e=>{try{await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/creations/download?uuid=").concat(e),{method:"POST"})}catch(e){console.log("Error adding download for creation: ".concat(e))}},E=async e=>{let{name:t}=e;return new Promise((e,n)=>{navigator.locks.request("createToken",{mode:"exclusive"},async()=>{try{let n=await (0,i.hP)(),r=await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/apiDashboard"),{method:"POST",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({name:t})}),a=await r.json();if(null==a?void 0:a.reason)throw a.reason;e(null==a?void 0:a.response)}catch(e){return(0,c.wY)(e)}})})},j=async e=>{let{take:t,skip:n}=e;return new Promise((e,r)=>{navigator.locks.request("viewTokens",{mode:"exclusive"},async()=>{try{let r=await (0,i.hP)(),a=await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/apiDashboard?take=").concat(t,"&skip=").concat(n),{method:"GET",headers:{Authorization:r,"Content-Type":"application/json"}}),o=await a.json();if(null==o?void 0:o.reason)throw o.reason;e({response:null==o?void 0:o.response,isMoreAvailable:null==o?void 0:o.isMoreAvailable})}catch(e){r((0,c.wY)(e))}})})},k=async e=>{let{uuid:t}=e;return new Promise((e,n)=>{navigator.locks.request("deleteToken",{mode:"exclusive"},async()=>{try{let n=await (0,i.hP)(),r=await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/apiDashboard/").concat(t),{method:"DELETE",headers:{Authorization:n,"Content-Type":"application/json"}}),a=await r.json();if(null==a?void 0:a.reason)throw a.reason;e(!0)}catch(e){return(0,c.wY)(e)}})})};(r=a||(a={})).usage="usage",r.invoices="invoices",r.credits="credits";let D=async()=>{try{let e=await (0,i.hP)();if(!e)return!1;let t=await fetch("".concat("https://webapp.engineeringlumalabs.com","/api/v3/apiDashboard/checkAccess"),{method:"POST",headers:{Authorization:e,"Content-Type":"application/json"}}),n=await t.json();if(null==n?void 0:n.reason)throw n.reason;return!0}catch(e){return!1}}},89035:function(e,t,n){"use strict";var r,a,o,i,c,s,l,u,d,p,w,h,f,g,v,y,m,b;n.d(t,{AI:function(){return a},Bx:function(){return s},hS:function(){return i},lS:function(){return u},q5:function(){return l},uD:function(){return d}}),(p=r||(r={})).ASCENDING="ASC",p.DESCENDING="DESC",(w=a||(a={})).geniePreview="imagine_3d_one",w.genieRefine="imagine_refine_3d1",w.blenderConvert3D="blender_convert",(h=o||(o={})).likes="likes",h.views="views",h.shares="shares",h.downloads="downloads",h.createdAt="createdAt",h.updatedAt="updatedAt",(f=i||(i={})).created="created",f.queued="queued",f.running="running",f.completed="completed",f.failed="failed",f.terminated="terminated",f.zombie="zombie",(g=c||(c={})).success="success",g.error="error",(v=s||(s={})).fbx="fbx",v.gltf="gltf",v.usdz="usdz",v.blend="blend",v.stl="stl",v.obj="obj",(y=l||(l={})).low="low",y.med="med",y.high="high",(m=u||(u={})).like="like",m.dislike="dislike",m.view="view",m.share="share",m.download="download",(b=d||(d={})).discord="discord",b.ios="ios",b.web="web",b.android="android",b.api="api"},88225:function(){},85738:function(e,t,n){e.exports=n(85931)},48652:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(53961),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,i=r.useEffect,c=r.useLayoutEffect,s=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return c(function(){a.value=n,a.getSnapshot=t,l(a)&&u({inst:a})},[e,n,t]),i(function(){return l(a)&&u({inst:a}),e(function(){l(a)&&u({inst:a})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},33916:function(e,t,n){"use strict";e.exports=n(48652)},87116:function(e,t,n){"use strict";n.d(t,{RK:function(){return d}});var r=n(53961),a=n(50052),o=n(33916),i=n(24064);let{use:c}=r,{useSyncExternalStore:s}=o,l=(e,t)=>{let n=[],r=new WeakSet,o=(e,i)=>{let c;!r.has(e)&&("object"==typeof e&&null!==e&&(r.add(e),c=t.get((0,a.o5)(e)||e)),c?c.forEach(t=>{"value"in(Object.getOwnPropertyDescriptor(e,t)||{})&&o(e[t],i?[...i,t]:[t])}):i&&n.push(i))};return o(e),n},u=(e,t)=>{let n=(0,r.useRef)();(0,r.useEffect)(()=>{n.current=l(e,t)}),(0,r.useDebugValue)(n.current)};function d(e,t){let n=null==t?void 0:t.sync,o=(0,r.useRef)(),l=(0,r.useRef)(),d=!0,p=s((0,r.useCallback)(t=>{let r=(0,i.Ld)(e,t,n);return t(),r},[e,n]),()=>{let t=(0,i.CO)(e,c);try{if(!d&&o.current&&l.current&&!(0,a.ln)(o.current,t,l.current,new WeakMap))return o.current}catch(e){}return t},()=>(0,i.CO)(e,c));d=!1;let w=new WeakMap;(0,r.useEffect)(()=>{o.current=p,l.current=w}),u(p,w);let h=(0,r.useMemo)(()=>new WeakMap,[]);return(0,a.DM)(p,w,h)}}},function(e){e.O(0,[4674,7061,3298,2698,4128,7375,6940,3477,1744],function(){return e(e.s=23432)}),_N_E=e.O()}]);